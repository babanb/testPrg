@model ADOPets.Web.ViewModels.Econsultation.AddSetupViewModel
@using ADOPets.Web.Common.Extensions
@using ADOPets.Web.Common.Helpers
@using Model
@using Resources = ADOPets.Web.Resources.Wording;
@{
    int userId = ViewBag.UserId;
}
@using (Ajax.BeginForm("Setup", "Econsultation", new AjaxOptions
{
    HttpMethod = "POST"
}, new { @id = "newEconsultation", @class = "form-horizontal defaultForm bv-form", @role = "form" }))
{
    <div class="form-group">
        <strong>@Html.LabelRequiredFor(m => m.PetId, new { @class = "col-md-6 control-label" }) </strong>
        <div class="col-md-6">
            <div id="selectPetlink">
                <strong>
                    <a id="selectPet" href="@Url.Action("SelectPet", "Econsultation")" class="radius3" data-toggle="modal" data-target=".bs-example-modal-lg">
                        <i class="fa fa-check-square"></i>
                        @if (TempData["PetName_" + userId] == null)
                        {
                            @Resources.Econsultation_Add_ClickHere                            
                        }
                        else
                        {
                            @TempData["PetName_" + userId]
                        }
                        @Html.HiddenFor(m => m.PetId)
                    </a>
                </strong>
            </div>
            @Html.ValidationMessageFor(m => m.PetName)
        </div>
    </div>
    <div class="form-group">
        <strong>@Html.LabelRequiredFor(m => m.Country, new { @class = "col-md-6 control-label" }) </strong>
        <div class="col-md-6">
            @Html.EnumDropDownListFor(m => m.Country, Resources.Econsultation_Add_CountryPlaceHolder, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.Country)
        </div>
    </div>    
    <div class="form-group">
        <strong>@Html.LabelRequiredFor(m => m.TimeZone, new { @class = "col-md-6 control-label" }) </strong>
        <div class="col-md-6">
            @Html.EnumDropDownListFor(m => m.TimeZone, Resources.Econsultation_Add_TimeZonePlaceHolder, new { @class = "form-control" })
            @Html.ValidationMessageFor(m => m.TimeZone)
        </div>
    </div>
    <div class="form-group">
        <strong>@Html.LabelRequiredFor(m => m.Date, new { @class = "col-md-6 control-label" })</strong>
        <div class="col-md-6">
            <div class="input-group date">
                @Html.TextBoxFor(m => m.Date, new { @class = "form-control datepicker datepickerCustomValidation ", @style = "z-index:100 !important;", @Value = Model.Date.HasValue ? Model.Date.Value.ToShortDateString() : string.Empty , placeholder=Resources.Econsultation_Add_ConsultationDatePlaceHolder})
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
            </div>
            @Html.ValidationMessageFor(m => m.Date)
        </div>
    </div>
    <div class="form-group">
        <strong>@Html.LabelRequiredFor(m => m.Time, new { @class = "col-md-6 control-label" }) </strong>
        <div class="col-md-6">
            <div class="input-group">
                @if (System.Globalization.CultureInfo.CurrentCulture.Name == "en-IN")
                {
                @Html.TextBoxFor(m => m.Time, null, new { @class = "form-control timepicker1", @Value = TimeZoneHelper.GetCurrentUserLocalTime().ToString("HH:mm") })
                }
                else
                {
                @Html.TextBoxFor(m => m.Time, null, new { @class = "form-control timepicker1", @Value = TimeZoneHelper.GetCurrentUserLocalTime().ToString("hh:mm tt") })    
                }                
                <span class="input-group-addon"><i class="glyphicon glyphicon-time"></i></span>
            </div>
            @Html.ValidationMessageFor(m => m.Time)
        </div>
    </div>
    <div class="form-group">
        <strong>@Html.LabelFor(m => m.ContactType, new { @class = "col-md-6 control-label", @for = "bestway" }) </strong>
        <div class="col-md-6">
            @Html.EnumDropDownListFor(m => m.ContactType, Resources.Econsultation_Add_ContactTypePlaceHolder, new { @class = "form-control", @id = "bestcontactoption" })
        </div>
        <div class="clearfix"></div>
        <div id="enteremail" style="display: none">
            <label for="bestway" class="col-md-6 control-label"><strong></strong></label>
            <div class="col-md-6">
                @Html.TextBoxFor(m => m.Email, new { @class = "form-control", placeholder = Resources.Econsultation_Add_EmailPlaceHolder })
                @Html.ValidationMessageFor(m => m.Email)
            </div>
        </div>
        <div id="enterphone" style="display: none">
            <label for="bestway" class="col-md-6 control-label"><strong></strong></label>
            <div class="col-md-6">
                @Html.TextBoxFor(m => m.Phone, new { @class = "form-control", placeholder = Resources.Econsultation_Add_PhonePlaceHolder })
                @Html.ValidationMessageFor(m => m.Phone)
            </div>
        </div>
    </div>
    <div class="form-group">
        @Html.LabelRequiredFor(m => m.PetCondition, new { @class = "col-md-6 control-label" })
        <div class="col-md-6">
            @Html.TextBoxFor(m => m.PetCondition, new { @class = "form-control", placeholder = Resources.Econsultation_Add_PetConditionPlaceHolder })
            @Html.ValidationMessageFor(m => m.PetCondition)
        </div>
    </div>
    <div class="form-group">
        <label for="symtoms" class="col-md-6 control-label">@Resources.Econsultation_Add_SymptomsOfPet</label>
        <div class="col-md-6">
            @Html.TextBoxFor(m => m.Symptoms1, new { @class = "form-control", placeholder = Resources.Econsultation_Add_Symptoms1PlaceHolder })
        </div>
    </div>
    <div class="form-group">
        <label for="Symptoms2" class="col-md-6 control-label"><strong></strong></label>
        <div class="col-md-6">
            @Html.TextBoxFor(m => m.Symptoms2, new { @class = "form-control", placeholder = Resources.Econsultation_Add_Symptoms2PlaceHolder })
        </div>
    </div>
    <div class="form-group">
        <label for="Symptoms3" class="col-md-6 control-label"><strong></strong></label>
        <div class="col-md-6">
            @Html.TextBoxFor(m => m.Symptoms3, new { @class = "form-control", placeholder = Resources.Econsultation_Add_Symptoms3PlaceHolder })
        </div>
    </div>
            
    <div class="form-group">

        <strong>@Html.LabelRequiredFor(model => model.VetID, new { @class = "col-md-6 control-label" })</strong>
        <div class="col-md-6">
            <div id="assignvetLink">
                <strong>
                    <a id="assignvetModal" href="@Url.Action("SelectVet", "Econsultation")" class="radius3" data-toggle="modal" data-target=".bs-example-modal-lg">
                        <i class="fa fa-check-square"></i>
                        @Html.HiddenFor(m => m.VetID)

                        @if (TempData["VetName_" + userId] == null)
                        {
                            @Resources.Econsultation_Add_ClickHere 
                        }
                        else
                        {
                            @TempData["VetName_" + userId]
                        }

                    </a>

                </strong>
            </div>
            @Html.ValidationMessageFor(m => m.VetID)
        </div>

    </div>
    <div class="form-group">
        <div class="col-md-offset-6 col-md-6">
            <div class="checkbox">
                <label>
                    @Html.CheckBoxFor(m => m.ConfirmMedicalRecords, new { @data_bv_notempty = "true", @name = "ConfirmMedicalRecords" }) &nbsp;@Resources.Econsultation_Add_ConfirmMedicalRecords
                </label>
            </div>
            @Html.ValidationMessageFor(m => m.ConfirmMedicalRecords)
        </div>
    </div>
    <div class="form-group">
        <div class="col-md-offset-6 col-md-6">
            <div class="checkbox">
                <label>
                    @Html.CheckBoxFor(m => m.TermsAndConditions, new { @data_bv_notempty = "true", @name = "TermsAndConditions" }) &nbsp;@Resources.Econsultation_Add_AgreeTerms <a id="termscondition" href="@Url.Action("Index", "TermAndCondition")">@Resources.Econsultation_Add_TermsAndConditions</a>
                </label>
            </div>
            @Html.ValidationMessageFor(m => m.TermsAndConditions)
        </div>
    </div>
    <hr>
                        if (TempData["HasEconsult_" + userId].ToString().ToLower() == "false")
                        {
    <div class="form-group">
        <div class="col-md-offset-6 col-md-6">
            <button id="next-bt" type="button" class="btn btn-success btn-lg">@Resources.Econsultation_Add_NextStep <i class="fa fa-arrow-right"></i></button>

        </div>
    </div>
                        }
                        else
                        {
    <div class="form-group">
        <div class="col-md-6">
            <button id="cancel-bt" type="button" class="btn btn-warning btn-lg pull-right">@Resources.Econsultation_Add_Cancel </button>
        </div>
        <div class="col-md-6">
            <button id="submit-bt" type="button" class="btn btn-success btn-lg">@Resources.Econsultation_Add_Next </button>
        </div>
    </div>
                        }

    <div id="selectModalPet" class="modal fade" tabindex="-1" role="dialog"></div>
    <div id="SelectassignvetModal" class="modal fade" tabindex="-1" role="dialog">
    </div>
    <div id="editModalTest" class="modal fade" tabindex="-1" role="dialog"></div>
}

<script src="@Url.Content("~/Scripts/customs/views/Econsultation/Setup.js")"></script>
<link href="@Url.Content("~/Content/css/fullcalendar.min.css")" rel="stylesheet">
<script src="@Url.Content("~/Scripts/external/fullcalendar.min.js")"></script>
<script src="@Url.Content("~/Scripts/external/lang-all.js")"></script>