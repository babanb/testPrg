@using Resources = ADOPets.Web.Resources.Wording;
@using Model
@model ADOPets.Web.ViewModels.SMO.DetailsViewModel

@{
    ViewBag.Title = Resources.Smo_Edit_Title;
}

<div id="pageTitle">
    <div class="row">
        <div class="col-md-8">
            <h1>@Resources.Smo_Edit_SecondOpinion</h1>
        </div>
        <div class="col-md-4"><a href="@Url.Action("Index", "SMO")" class="btn btn-primary pull-right"><i class="fa fa-angle-left"></i>@Resources.Smo_Edit_BackButton</a> </div>
    </div>
</div>

<div id="mainContainer">
    @if (!Roles.IsUserInRole(UserTypeEnum.VeterinarianAdo.ToString()) && !Roles.IsUserInRole(UserTypeEnum.VeterinarianExpert.ToString()))
    {
        <div id="hiderightsidebar">
            <img src="@Url.Content("~/Content/images/hide-img.png")" width="22" height="34" alt="" />
        </div>
        <div id="showrightsidebar">
            <img src="@Url.Content("~/Content/images/show-img.png")" width="22" height="34" alt="" />
        </div>
    }
    <div id="cover4econsult" style="background:@Url.Content("~/images/smo-cover.jpg") center left repeat;">
        <center><div id="econsultdetailtab" class="radius3"><h3>@Model.SMOREquest.Title</h3>
          <span>@Resources.Smo_Edit_PetName - @(Model.SMOREquest.Pet == null ? "" : @Model.SMOREquest.Pet.Name) | @Resources.Smo_Edit_SMOID - @Model.SMOId | @Resources.Smo_Edit_Status - @putStatus(Model.SMOREquest.SMORequestStatusId.ToString())  </span></div></center>
        <div class="clearfix"></div>
    </div>

    <div id="econsultConfirm">

        <h5 class="bg-info text-primary" style="padding: 10px 15px; font-weight: 600; text-align: center">@Resources.Smo_Edit_Condition</h5>
        <div class="columnfull">
            <div class="detailrow">
                <div>@Resources.Smo_Edit_Diagnosis</div>
                <div class="colonspace">:</div>
                <div>@Model.SMOREquest.Diagnosis.Value</div>
                <div class="clearfix"></div>
            </div>

            <div class="detailrow">
                <div>@Resources.Smo_Edit_Comments</div>
                <div class="colonspace">:</div>
                <div>@Model.SMOREquest.Comments.Value</div>
                <div class="clearfix"></div>
            </div>

            <div class="detailrow">
                <div>@Resources.Smo_Edit_DateofOnset</div>
                <div class="colonspace">:</div>

                <div>@(Model.SMOREquest.DateOfOnSet == null ? "" : @Model.SMOREquest.DateOfOnSet.Value.ToString("MM/dd/yyyy"))</div>
                <div class="clearfix"></div>
            </div>
        </div>

        <h5 class="bg-info text-primary" style="padding: 10px 15px; font-weight: 600; text-align: center">@Resources.Smo_Edit_Test</h5>

        <div class="columnfull">

            <div class="detailrow">
                <div>@Resources.Smo_Edit_TestName<span class="caret"></span></div>
                <div class="colonspace">:</div>
                <div style="font-weight: 700;">@Resources.Smo_Edit_TestDate<span class="caret"></span></div>
                <div class="clearfix"></div>
            </div>
            @foreach (var a in Model.Investigations)
            {
                <div class="detailrow">
                    <div style="font-weight: 400;">@a.TestDescription</div>
                    <div class="colonspace">:</div>

                    <div>@(a.TestDate == null ? "" : @a.TestDate.Value.ToString("MM/dd/yyyy"))</div>
                    <div class="clearfix"></div>
                </div>
            }

        </div>
        <h5 class="bg-info text-primary" style="padding: 10px 15px; font-weight: 600; text-align: center">@Resources.Smo_Edit_Symptoms</h5>
        <div class="columnfull">
            <div class="detailrow">
                <div>@Resources.Smo_Edit_SymptomsMessage</div>
                <div class="colonspace">:</div>
                <div>@Model.SMOREquest.Symptoms1.Value<br>
                    @Model.SMOREquest.Symptoms2.Value<br>
                    @Model.SMOREquest.Symptoms3.Value
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <h5 class="bg-info text-primary" style="padding: 10px 15px; font-weight: 600; text-align: center;">@Resources.Smo_Edit_FirstOpinion</h5>
        <div class="columnfull">

            <div class="detailrow">
                <div>@Resources.Smo_Edit_DetailsOfFirstMO</div>
                <div class="colonspace">:</div>
                <div>@Html.TextAreaFor(modelItem => @Model.SMOREquest.FirstOpinion.Value, new { @class = "form-control", disabled = "disabled" })</div>
                <div class="clearfix"></div>
            </div>
            <div class="detailrow">
                <div>@Resources.Smo_Edit_StateYourQuestion</div>
                <div class="colonspace">:</div>
                <div>
                    @Html.TextAreaFor(modelItem => @Model.SMOREquest.Question.Value, new { @class = "form-control", disabled = "disabled" })
                </div>
                <div class="clearfix"></div>
            </div>
        </div>

          <hr>
        <div class="form-group">
            <div class="col-md-6 pull-right">
                <a href="@Url.Action("ShowSMOVetReport", "SMO", new { id = Model.SMOREquest.ID, PetId = Model.SMOREquest.PetId })" class="btn btn-success btn-lg" ><i class="fa fa-download"></i>@Resources.Smo_Edit_Report</a>
            </div>
            <div class="col-md-6">&nbsp;</div>
        </div>
        <div class="clearfix"></div>

    </div>
</div>

@helper putStatus(string status)
{
    
    
    if (Model.SMOREquest.SMORequestStatusId.ToString() == SMORequestStatusEnum.Open.ToString())
    {
    @ADOPets.Web.Resources.Enums.SMOOwnerRequestStatusEnum_Open;
    }
    else if (Model.SMOREquest.SMORequestStatusId.ToString() == SMORequestStatusEnum.Assigned.ToString())
    {
     @ADOPets.Web.Resources.Enums.SMOOwnerRequestStatusEnum_InProgress;
    }
    else if (Model.SMOREquest.SMORequestStatusId.ToString() == SMORequestStatusEnum.Validated.ToString())
    {
     @ADOPets.Web.Resources.Enums.SMOOwnerRequestStatusEnum_InProgress;
    }
    else if (Model.SMOREquest.SMORequestStatusId.ToString() == SMORequestStatusEnum.Complete.ToString())
    {
     @ADOPets.Web.Resources.Enums.SMOOwnerRequestStatusEnum_Complete;
    }
    
    
@*   if (Model.SMOREquest.SMORequestStatusId.ToString() == @ADOPets.Web.Resources.Enums.SMORequestStatusEnum_Open.ToString())
    {
    @SMOOwnerRequestStatusEnum.Open.ToString();
    }
     else if (Model.SMOREquest.SMORequestStatusId.ToString() == @ADOPets.Web.Resources.Enums.SMORequestStatusEnum_Assigned.ToString())
    {
    @SMOOwnerRequestStatusEnum.InProgress.ToString();
    }
     else if (Model.SMOREquest.SMORequestStatusId.ToString() == @ADOPets.Web.Resources.Enums.SMORequestStatusEnum_Validated.ToString())
    {
    @SMOOwnerRequestStatusEnum.InProgress.ToString();
    }
     else if (Model.SMOREquest.SMORequestStatusId.ToString() == @ADOPets.Web.Resources.Enums.SMORequestStatusEnum_Complete.ToString())
    {
    @SMOOwnerRequestStatusEnum.Complete.ToString();
    }*@
}
<script>

</script>
