@using Resources = ADOPets.Web.Resources.Wording;
@model ADOPets.Web.ViewModels.Profile.PlanUpgradeViewModel
@using ADOPets.Web.Common.Helpers
@using Model


<div class="columnfull first">
    <h3 style="text-align: center">@Resources.Profile_PlanUpgrade_Title </h3>
    <hr />
    <div class="form-group">
        <div class="col-sm-4"></div>
        <div class="col-sm-8">
            @Html.ValidationSummary(true)
        </div>
    </div>

    @using (Ajax.BeginForm("PlanUpgrade", "Profile", new AjaxOptions
        {
            UpdateTargetId = "PlanBilling",
            HttpMethod = "POST",
            InsertionMode = InsertionMode.Replace
        }, new { @id = "UpgradePlanForm", @class = "form-horizontal" }))
    {
        @Html.AntiForgeryToken()
        <div class="row">
            <div class="col-md-12">
                @Html.HiddenFor(model => model.RemainingDays)
                @Html.HiddenFor(model => model.IsFreeUser)
                @Html.HiddenFor(model => model.MaxPetCount)

                <input type="hidden" value="@Model.StartDate.ToShortDateString()" id="CurrentPlan_Startdate" />
                <input type="hidden" value="@Model.EndDate.ToShortDateString()" id="CurrentPlan_EndDate" />
                <input type="hidden" value="@string.Format(Resources.Profile_PlanEdit_Days, Model.Duration)" id="CurrentPlan_Dueration" />
                <input type="hidden" value="@string.Format(Resources.Profile_PlanEdit_Days, Model.RemainingDays)" id="CurrentPlan_RemainingDays" />

                <div class="form-group">
                    <label class="col-sm-4 control-label  text-primary">@Resources.Profile_PlanDetail_YourPlan : </label>
                    <div class="col-xs-8">
                        <label class="control-label  text-primary" id="UpgradePlan">@Model.PlanName</label>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label text-primary">@Resources.Profile_PlanDetail_YourCharge :  </label>
                    <div class="col-xs-8">
                        <label class="control-label  text-primary" id="UpgradePrice">$@Model.Price</label>
                    </div>
                </div>
                @if (Model.IsFreeUser && (DomainHelper.GetDomain() == DomainTypeEnum.US || DomainHelper.GetDomain() == DomainTypeEnum.India))
                {  
                    <div class="form-group">
                        @Html.LabelFor(model => model.Promocode, new { @class = "col-sm-4 control-label" })
                        <div class="col-xs-4">
                            @Html.TextBoxFor(model => model.Promocode, new { id = "IdPromo", @class = "form-control", placeholder = Resources.Profile_PlanEdit_Promocode })
                            @Html.ValidationMessageFor(model => model.Promocode)
                        </div>
                        <div class="col-md-2" style="vertical-align: middle;">
                            <a href="#" id="PlansByPromoCode1" class="btn btn-success">@Resources.Profile_PlanEdit_btnGo</a>
                            &nbsp;          
                        </div>
                        <label class="col-md-7 control-label" for="InvalidPromoCode" id="PromocodeErrMsg" style="color: #a94442; padding-right: 30px; display: none;">@Resources.Profile_PlanEdit_InvalidPromoCode</label>
                    </div>
                }
                else
                { 
                    <div class="form-group">
                        @Html.LabelFor(model => model.Promocode, new { @class = "col-sm-4 control-label" })
                        <div class="col-xs-4">

                            @Html.TextBoxFor(model => model.Promocode, new { id = "IdPromo", @class = "form-control", @disabled = true, placeholder = Resources.Profile_PlanEdit_Promocode })
                            @Html.ValidationMessageFor(model => model.Promocode)
                            @Html.HiddenFor(model => model.Promocode)

                        </div>
                        <div class="col-md-2" style="vertical-align: middle; display: none;">
                            <a href="#" id="PlansByPromoCode1" class="btn btn-success">@Resources.Profile_PlanEdit_btnGo</a>
                            &nbsp;          
                        </div>
                        <label class="col-md-7 control-label" for="InvalidPromoCode" id="PromocodeErrMsg" style="color: #a94442; padding-right: 30px; display: none;">@Resources.Profile_PlanEdit_InvalidPromoCode</label>
                    </div>
                }
                <div class="form-group">
                    @Html.LabelFor(model => model.PlanName, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.DropDownList("PlanName", ViewBag.Plan as IEnumerable<SelectListItem>, new { @class = "col-md-3 form-control" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.Description, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.Label("", Model.Description, new { id = "BasePlanDescription", @class = "control-label", style = "text-align: left;font-weight:400;" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.AdditionalInfo, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.Label("AdditionalInfo", Model.AdditionalInfo, new { id = "AdditionalInfo", @class = "control-label", style = "text-align: left;font-weight:400;" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.AdditionalPets, new { @class = "col-sm-4 control-label" })
                    <div class="col-xs-4">
                        @Html.Label("NumberOfPets", Model.NumberOfPets, new { id = "NumberOfPets", @class = "control-label", style = "text-align: left; display:none;" })
                        @Html.DropDownList("AdditionalPets", ViewBag.AdditionalPets as IEnumerable<SelectListItem>, Resources.Account_SignUp_Addpets, new { @class = "form-control" })
                        @Html.HiddenFor(m => m.NumberOfPets)
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-4"></div>
                    <label class="col-sm-7 control-label" for="AddPetsErr" id="AddPetsErrMsg" style="text-align: left; font-weight: 400; color: #a94442; padding-right: 30px; display: none;">@string.Format(Resources.Profile_PlanEdit_AddPetsErr, Model.NumberOfPets)</label>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.StartDate, new { @class = "col-sm-4 control-label" })
                    <div class="col-xs-4">
                        @Html.Label("StartDate", Model.StartDate.ToShortDateString(), new { id = "lblStartDate", @class = "control-label", style = "text-align: left;font-weight:400;" })
                    </div>
                </div>
                <div class="form-group">
                    @Html.LabelFor(model => model.EndDate, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.Label("ExpirationDate", Model.EndDate.ToShortDateString(), new { id = "lblExpirationDate", @class = "control-label", style = "text-align: left;font-weight:400;" })
                        <input type="hidden" value="@Model.EndDate.ToShortDateString()" id="ExpirationDate" />
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Duration, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.Label("Duration", string.Format(Resources.Profile_PlanEdit_Days, Model.Duration), new { id = "Duration", @class = "control-label", style = "text-align: left;font-weight:400;" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.RemainingDays, new { @class = "col-sm-4 control-label" })
                    <div class="col-sm-6">
                        @Html.Label("Duration", string.Format(Resources.Profile_PlanEdit_Days, Model.RemainingDays), new { id = "TotalRemainigDays", @class = "control-label", style = "text-align: left;font-weight:400;" })
                    </div>
                </div>

                @Html.HiddenFor(model => model.StartDate)
                @Html.HiddenFor(model => model.EndDate)
                @Html.HiddenFor(model => model.FinalplanName)


                <div class="form-group">
                    <div class="col-sm-offset-5 col-sm-6">
                        <a href="#" id="CancelPlan" class="btn btn-success">@Resources.Profile_PlanEdit_Cancel</a>
                        <button type="submit" class="btn btn-success">@Resources.Profile_PlanEdit_Next</button>
                    </div>
                </div>
            </div>


        </div>
    }
</div>

<script src="/Scripts/customs/views/Profile/PlanUpgrade.js"></script>
