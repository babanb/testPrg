@using Resources = ADOPets.Web.Resources.Wording
@model IEnumerable<ADOPets.Web.ViewModels.VideoGallery.IndexViewModel>
@using ADOPets.Web.Common.Extensions
@using ADOPets.Web.Common.Helpers

<div class="row" id="gallerylist">
    <div class="messageStyle">
        @{ Html.RenderPartial("_Alerts"); }
    </div>

    @if (Model != null && Model.Count() > 0)
    {
        foreach (var item in Model)
        {            
        <div class="col-md-3" style="padding-bottom: 25px;">
            <figure class="radius3">
                <img style="height: 125px; width: 250px;" class="img-responsive"
                    src="@item.VideoImage" />
                <figcaption>
                    @if (item.IsEncoded)
                    {
                        <a href="@Url.Action("VideoDetails", "VideoGallery", new { videoId = item.VideoId, petId = item.PetId })" class="text-primary" title="@item.Title @item.CreationDate.ToShortDateString()"><i class="fa fa-eye"></i></a>
                        if (UserHelper.CanDeletePet(ViewBag.PetId))
                        {
                            if (ShareInfoHelper.IsSharedUser(ViewBag.PetId, ViewBag.UserId) || ShareInfoHelper.IsCommunityUser(ViewBag.PetId, ViewBag.UserId))
                            {   
                        <a href="@Url.Action("EditVideo", "VideoGallery", new { videoId = item.VideoId })" class="text-success editVideoGallery"><i class="fa fa-pencil"></i></a>
                        <a href='@Url.Action("DeleteVideo", "VideoGallery", new { videoId = item.VideoId })' id="lnkDeleteGalleryVideo" class="text-warning deleteVideoGallery"><i class="fa fa-trash-o"></i></a>
                            }
                        }
                    }
                    else
                    {
                        @*<a href="javascript:void(0);" class="text-primary" title="@Resources.VideoGallery_List_EncodingInProgress"><i class="fa fa-eye"></i></a>*@
                    }
                    <br>
                    @item.CreationDate.ToShortDateString()
                </figcaption>
            </figure>
        </div> 
        }
    }
    else
    {
        <div class="row">
            <h4 style="text-align: center; margin-top: 20px;" class="text-primary">
                @Resources.Gallery_Index_NoRecords_Video<br>
            </h4>
        </div>
    }
</div>
<script type="text/javascript">
    var myVarReloadVideo;
    var MyText = @Session["count"]   
</script>


<script src="@Url.Content("~/Scripts/customs/views/VideoGallery/List.js")"></script>

