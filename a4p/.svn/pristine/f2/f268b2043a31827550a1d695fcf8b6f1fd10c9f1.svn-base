@model ADOPets.Web.ViewModels.SMO.AddBillingViewModel
@using ADOPets.Web.Common.Extensions
@using ADOPets.Web.Common.Helpers
@using Model
@using Resources = ADOPets.Web.Resources.Wording;

<div id="payment-option">
    <img src="@Url.Content("~/Content/images/mastercard.png")">
    <img src="@Url.Content("~/Content/images/visa.png")">
    <img src="@Url.Content("~/Content/images/discover-network.png")">
    <img src="@Url.Content("~/Content/images/jcb.png")">
</div>
<hr>
@using (Ajax.BeginForm("Billing", "SMO", new AjaxOptions
{
    HttpMethod = "POST"
}, new { @id = "SMOBillingForm", @class = "form-horizontal defaultForm bv-form", @role = "form" }))
{
    @Html.AntiForgeryToken()    
    @Html.Hidden("SetupURL", Url.Action("Setup", "SMO"))
    @Html.Hidden("SelectPetURL", Url.Action("SelectPet", "SMO"))
    @Html.Hidden("BillingURL", Url.Action("Billing", "SMO"))
    @Html.Hidden("ConfirmationURL", Url.Action("Confirmation", "SMO"))
    @Html.Hidden("InvestigationListURL", Url.Action("InvestigationList", "SMO"))
    @Html.Hidden("PaymentURL", Url.Action("Payment", "SMO"))
    @Html.Hidden("AddInvestigationURL", Url.Action("AddInvestigation", "SMO"))
    @Html.Hidden("EditInvestigationURL", Url.Action("EditInvestigation", "SMO"))  
    <div class="form-group">
        @Html.LabelRequiredFor(model => model.CreditCardType, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
        <div class="col-md-6">
            @Html.EnumDropDownListFor(m => m.CreditCardType, Resources.Smo_Add_CreditCardTypePlaceHolder, new { @class = "form-control" })
            @Html.ValidationMessageFor(modelItem => modelItem.CreditCardType)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelRequiredFor(model => model.CreditCardNumber, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
        <div class="col-md-6">
            @Html.TextBoxFor(modelItem => modelItem.CreditCardNumber, new { @class = "form-control", @placeholder = @Resources.Smo_Add_CreditCardNumberPlaceHolder, @data_bv_notempty = "true", @data_bv_field = @Resources.Smo_Add_CreditCardNumber })
            @Html.ValidationMessageFor(modelItem => modelItem.CreditCardNumber)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelRequiredFor(model => model.ExpirationDate, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
        <div class="col-md-6">
            <div class="input-group date">
                @Html.TextBoxFor(modelItem => modelItem.ExpirationDate, "{0:MM/yyyy}", new { @class = "form-control datepicker datepickerMonthYear", @placeholder = @Resources.Smo_Add_ExpirationDatePlaceHolder })
                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>

            </div>
            @Html.ValidationMessageFor(modelItem => modelItem.ExpirationDate)
        </div>
    </div>
    <div class="form-group">
        @Html.LabelRequiredFor(model => model.CCV, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
        <div class="col-md-6">
            @Html.TextBoxFor(modelItem => modelItem.CCV, new { @class = "form-control", @data_bv_notempty = "true", @data_bv_field = @Resources.Smo_Add_CCV, placeholder = Resources.Account_SignUp_CVVPlaceHolder })
            @Html.ValidationMessageFor(modelItem => modelItem.CCV)
        </div>
    </div>     
        
    <div id="billing-add" class="animated fadeIn">
        <hr>
        <h3 class="text-center">@Resources.Smo_Add_BillingAddress</h3>
        <hr>
        <div class="form-group">
            @Html.LabelRequiredFor(model => model.Address1, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.TextBoxFor(modelItem => modelItem.Address1, new { @class = "form-control", @placeholder = @Resources.Smo_Add_Address1PlaceHolder, @data_bv_notempty = "true", @data_bv_field = @Resources.Smo_Add_Address1 })
                @Html.ValidationMessageFor(modelItem => modelItem.Address1)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.Address2, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.TextBoxFor(modelItem => modelItem.Address2, new { @class = "form-control", @placeholder = @Resources.Smo_Add_Address2PlaceHolder, @data_bv_field = @Resources.Smo_Add_Address2 })
                @Html.ValidationMessageFor(modelItem => modelItem.Address2)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelRequiredFor(model => model.City, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.TextBoxFor(modelItem => modelItem.City, new { @class = "form-control", @placeholder = @Resources.Smo_Add_CityPlaceHolder, @data_bv_notempty = "true", @data_bv_field = @Resources.Smo_Add_City })
                @Html.ValidationMessageFor(modelItem => modelItem.City)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelRequiredFor(model => model.Country, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.EnumDropDownListFor(m => m.Country, Resources.Smo_Add_CountryPlaceHolder, new { @class = "form-control" })
                @Html.ValidationMessageFor(modelItem => modelItem.Country)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelFor(model => model.State, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.DropDownListFor(m => m.State, new List<SelectListItem>(), Resources.Smo_Add_StatePlaceHolder, new { @class = "form-control" })
                @Html.ValidationMessageFor(modelItem => modelItem.State)
            </div>
        </div>
        <div class="form-group">
            @Html.LabelRequiredFor(model => model.Zip, new { @class = "col-md-6 control-label", @style = "font-weight:bold;" })
            <div class="col-md-6">
                @Html.TextBoxFor(modelItem => modelItem.Zip, new { @class = "form-control", @placeholder = @Resources.Smo_Add_ZipPlaceHolder, @data_bv_notempty = "true", @data_bv_field = @Resources.Smo_Add_Zip })
                @Html.ValidationMessageFor(modelItem => modelItem.Zip)
            </div>
        </div>

    </div>
    <hr>
    <div class="form-group">
        <div class="col-md-6">
            <button id="back-billing-bt" type="button" class="btn btn-primary btn-lg pull-right"><i class="fa fa-arrow-left"></i>@Resources.Smo_Add_BackButton</button>
        </div>
        <div class="col-md-6">
            <button id="next-billing-bt" type="button" class="btn btn-success btn-lg">@Resources.Smo_Add_NextButton <i class="fa fa-arrow-right"></i></button>
        </div>
    </div>
}
<script src="@Url.Content("~/Scripts/external/jquery.form.min.js")"></script>
<script src="@Url.Content("~/Scripts/customs/views/SMO/Billing.js")"></script>

<script>
    var culture = GetCurrentCulture();
    $('.datepickerMonthYear').datepicker({
        language: culture,
        format: "mm/yyyy",
        minViewMode: 1,
        startDate: '1d',
        startView: 'decade',
        autoclose: true
    });
    $('#ExpirationDate').removeAttr("data-val-date");
</script>
