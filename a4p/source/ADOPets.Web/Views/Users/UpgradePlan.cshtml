@using ADOPets.Web.Common.Extensions
@using Resources = ADOPets.Web.Resources.Wording
@model ADOPets.Web.ViewModels.Users.UpgradePlanViewModel

<div class="well well-sm">
    <div class="columnfull first">
        <h3 style="text-align: center">@Resources.Profile_PlanUpgrade_Title </h3>
        <hr />
        <div class="form-horizontal">
            @using (Html.BeginForm("UpgradePlan", "Users", FormMethod.Post, new { @id = "UpgradePlanForm", enctype = "multipart/form-data" }))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(model => model.UserID)
                @Html.HiddenFor(model => model.UserSubscriptionId)

                <div class="row">
                    <div class="col-md-12">
                        @Html.HiddenFor(model => model.RemainingDays)
                        <input type="hidden" value="@Model.StartDate.ToShortDateString()" id="CurrentPlan_Startdate" />
                        <input type="hidden" value="@Model.EndDate.ToShortDateString()" id="CurrentPlan_EndDate" />
                        <input type="hidden" value="@string.Format(Resources.Profile_PlanEdit_Days, Model.Duration)" id="CurrentPlan_Dueration" />
                        <input type="hidden" value="@string.Format(Resources.Profile_PlanEdit_Days, Model.RemainingDays)" id="CurrentPlan_RemainingDays" />

                        <div class="form-group">
                            <label class="col-sm-4 control-label  text-primary">@Resources.Profile_PlanDetail_YourPlan : </label>
                            <div class="col-xs-8">
                                <label class="control-label  text-primary" id="UpgradePlan">@Model.PlanName</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-sm-4 control-label text-primary">@Resources.Profile_PlanDetail_YourCharge :  </label>
                            <div class="col-xs-8">
                                <label class="control-label  text-primary" id="UpgradePrice">$@Model.Price</label>
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.Promocode, new { @class = "col-sm-4 control-label" })
                            <div class="col-xs-4">
                                @Html.DropDownListFor(model => model.Promocode, ViewBag.Promocode as IEnumerable<SelectListItem>, Resources.Users_EditUser_PromocodePlaceHolder, new { @class = "form-control" })
                            </div>
                            <label class="col-md-7 control-label" for="InvalidPromoCode" id="PromocodeErrMsg" style="color: #a94442; padding-right: 30px; display: none;">@Resources.Profile_PlanEdit_InvalidPromoCode</label>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.PlanName, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">
                                @Html.DropDownList("PlanName", ViewBag.Plans as IEnumerable<SelectListItem>, new { @class = "col-md-3 form-control" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.Description, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">
                                <label class="" style="text-align:left;font-weight:400;" id="BasePlanDescription" > @Model.Desc</label>
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.AdditionalInfo, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">

                                @Html.Label("AdditionalInfo", Model.AdditionalInfo, new { id = "AdditionalInfo", @class = "control-label", style = "text-align: left;font-weight:400;" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.AdditionalPets, new { @class = "col-sm-4 control-label" })
                            <div class="col-xs-4">
                                @Html.Label("NumberOfPets", Model.NumberOfPets, new { id = "NumberOfPets", @class = "control-label", style = "text-align: left; display:none;" })
                               <label class="control-label" id="MaxPetCount" style ="font-weight:400;">@Model.MaxPetCount</label>
                                 @Html.HiddenFor(m => m.NumberOfPets)
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-sm-4"></div>
                            <label class="col-sm-7 control-label" for="AddPetsErr" id="AddPetsErrMsg" style="text-align: left; font-weight: 400; color: #a94442; padding-right: 30px; display: none;">@string.Format(Resources.Profile_PlanEdit_AddPetsErr, Model.MaxPetCount + Convert.ToInt32(Model.NumberOfPets))</label>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.StartDate, new { @class = "col-sm-4 control-label" })
                            <div class="col-xs-4">
                                @Html.Label("StartDate", Model.StartDate.ToShortDateString(), new { id = "lblStartDate", @class = "control-label", style = "text-align: left;font-weight:400;" })
                            </div>
                        </div>
                        <div class="form-group">
                            @Html.LabelFor(model => model.EndDate, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">
                                @Html.Label("ExpirationDate", Model.EndDate.ToShortDateString(), new { id = "lblExpirationDate", @class = "control-label", style = "text-align: left;font-weight:400;" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.Duration, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">
                                @Html.Label("Duration", string.Format(Resources.Profile_PlanEdit_Days, Model.Duration), new { id = "Duration", @class = "control-label", style = "text-align: left;font-weight:400;" })
                            </div>
                        </div>

                        <div class="form-group">
                            @Html.LabelFor(model => model.RemainingDays, new { @class = "col-sm-4 control-label" })
                            <div class="col-sm-6">
                                @Html.Label("Duration", string.Format(Resources.Profile_PlanEdit_Days, Model.RemainingDays), new { id = "TotalRemainigDays", @class = "control-label", style = "text-align: left;font-weight:400;" })
                            </div>
                        </div>
                         @Html.HiddenFor(model => model.MaxPetCount)
                        @Html.HiddenFor(model => model.StartDate)
                        @Html.HiddenFor(model => model.EndDate)
                        @Html.HiddenFor(model => model.FinalplanName)
                        <input type="hidden" value="@Model.Promocode" id="CurrentPromocode" />
                        <input type="hidden" value="@Resources.Account_SignUp_Addpets" id="changeselectText" />
                        <div class="form-group">
                            <div class="col-sm-offset-5 col-sm-6">
                                <a href="#" id="CancelOwnerUpgradeplan" data-dismiss="modal" class="btn btn-success">@Resources.Profile_PlanEdit_Cancel</a>
                                <input type="submit" class="btn btn-success" value="@Resources.Users_AddUser_Submit"/>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>


<script src="~/Scripts/customs/views/Users/UpgradePlan.js"></script>
