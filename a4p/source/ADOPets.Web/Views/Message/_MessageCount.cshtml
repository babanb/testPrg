@using Model
@using Resources = ADOPets.Web.Resources.Wording
@model IEnumerable<ADOPets.Web.ViewModels.Message.MessageNotificationViewModel>

<div class="list-group animated flipInX radius3">
    <input type="hidden" value="@ViewBag.NewMesssageCount" id="hdnMessageCount"/>
    @foreach (var mail in Model)
    {
        if (mail.TypeOfNotification == "message")
        {
        <a href="@Url.Action("MessageDetail", "Message", new { id = mail.ConversationId })" class="list-group-item list-group-item-info">
            <i class="fa fa-envelope-o"></i>@Resources.Message_MesssageNotification_MessageText @mail.FromUserName

        </a>
        }
        else if (mail.TypeOfNotification == "econsultation")
        {
            if (Roles.IsUserInRole(UserTypeEnum.OwnerAdmin.ToString()))
            {
        <a href="@Url.Action("ViewDetails", "Econsultation", new { EconsultID = mail.ConversationId, IsRead = true })" class="list-group-item list-group-item-info">
            <i class="fa fa-calendar-o"></i>@Resources.Message_MesssageNotification_Econsultation @mail.Subject
        </a>
            }
            else
            {
        <a href="@Url.Action("ExpertViewDetails", "Econsultation", new { EconsultID = mail.ConversationId, IsRead = true })" class="list-group-item list-group-item-info">
            <i class="fa fa-calendar-o"></i>@Resources.Message_MesssageNotification_Econsultation @mail.Subject
        </a>
            }
        }
        else if (mail.TypeOfNotification == "smo")
        {
            if (Roles.IsUserInRole(UserTypeEnum.OwnerAdmin.ToString()))
            {
                if (mail.IsSMOPaymentDone)
                {                       
                    <a href="@Url.Action("SMODetails", "SMO", new { id = mail.ConversationId })" class="list-group-item list-group-item-info">
                        <i class="fa fa-comment"></i>@mail.Subject
                    </a> 
                }
                else
                {
                    <a href="@Url.Action("EditSMO", "SMO", new { smoId = mail.ConversationId })" class="list-group-item list-group-item-info">
                        <i class="fa fa-comment"></i>@mail.Subject
                    </a>
                }
            }
            else
            {
                <a href="@Url.Action("Edit", "SMO", new { id = mail.ConversationId })" class="list-group-item list-group-item-info">
                    <i class="fa fa-comment"></i>@mail.Subject
                </a>
            }
        }
        else if (mail.TypeOfNotification == "shareinfo")
        {
            if (Roles.IsUserInRole(UserTypeEnum.OwnerAdmin.ToString()))
            {
                <a href="@Url.Action("PetDetails", "Pet", new { id = mail.ConversationId, sharecategory = mail.ShareCategoryTypeId })"  class="list-group-item list-group-item-info">
                    <i class="fa fa-share-square sharepet-icon"></i>@mail.Subject</a> 
            }
        }
        else
        {
            <a href="@Url.Action("IndexStatus", "Calender", new { id = mail.ConversationId })" class="list-group-item list-group-item-info">
                <i class="fa fa-calendar-o"></i>@Resources.Message_MesssageNotification_Reminder
                @mail.Subject
            </a>
        }

    }
    <a href="@Url.Action("NotificationHistoryIndex", "Message")" class="list-group-item list-group-item-info seeAllnoti">@Resources.Message_Notification_SeeAll</a>
    <div id="notificntClose"><span class="glyphicon glyphicon-remove"></span></div>
</div>
