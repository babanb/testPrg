@model IEnumerable<ADOPets.Web.ViewModels.SharePetInfo.IndexViewModel>
@using Resources = ADOPets.Web.Resources.Wording
<div class="well">
    <div id="selectPetlink">
        <div class="radius3">
            <div class="pull-left" style="padding: 5px 15px 0 0;"><i class="fa fa-check-square"></i>@Resources.SharePetInfo_Index_selectedPet</div>
            @Html.DropDownList("drpPetNameFilter", null, new { @class = "form-control input-sm pull-left", @style = "width:40%;" })
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="clearfix"></div>
    <br>
    <table class="table" id="sharepetinfo_table">
        <thead>
            <tr>
                <th style="width: 5%;">
                    <input type="checkbox" id="chkAllShare">
                </th>
                <th style="width: 50%;">
                    @Resources.SharePetInfo_Index_WhatYouWantToShare </th>
                <th style="width: 45%;">
                    @Resources.SharePetInfo_Index_WhereYouWantToShare</th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr id="tr-@item.ShareCategoryType.Id">
                    <td>
                        @if (item.IsShareContactsExist)
                        {
                            <input type="checkbox"  name="shareInputs" class="checkbox" checked="checked" value="@item.ShareCategoryType.Id" />
                        }
                        else
                        { 
                            <input type="checkbox"  name="shareInputs" class="checkbox" value="@item.ShareCategoryType.Id" />
                        }
                        <input type="hidden" id="hdnContactIdforCategory" name="hdnContactIdforCategory" />
                    </td>
                    <td>
                        @{
                        var name = "ShareCategoryTypeEnum_" + (item.ShareCategoryType.Name.Replace(" ",""));
                        var shareCategory = ADOPets.Web.Resources.Enums.ResourceManager.GetString(name);
                        var desc = "ShareCategoryTypeEnum_" + (item.ShareCategoryType.Description.Replace(" ", "").Replace(",", "").Replace(".", ""));
                        var shareCategorydesc = ADOPets.Web.Resources.Enums.ResourceManager.GetString(desc);
                        }

                        @shareCategory
                        <br>
                        <span style="font-size: 12px;">(@shareCategorydesc)</span>

                    </td>
                    <td>
                        @if (item.PetId != 0)
                        {
                            if (item.ShareContactsCount > 0)
                            {
                            <a href="javascript:void(0)" class="btn btn-warning btn-xs" data-href="@Url.Action("SelectedContacts", "SharePetInfo", new { ShareContactType = item.ShareCategoryType.Id, petId = item.PetId })"  data-check="@item.ShareCategoryType.Id" onclick="selectedContacts(this)" data-toggle="modal" data-target="#selectedcontactsModel"><i class="fa fa-check-square"></i>
                                @item.ShareContactsCount

                                @if (item.ShareContactsCount == 1)
                                {
                                    @Resources.SharePetInfo_Index_Contact
                                }
                                else
                                {
                                    @Resources.SharePetInfo_Index_Contacts
                                }
                            </a>
                                if (ViewBag.TotalShareContacts > item.ShareContactsCount)
                                {
                            <br />
                            <a href="javascript:void(0)" data-href="@Url.Action("SelectContact", "SharePetInfo", new { ShareContactType = item.ShareCategoryType.Id, petId = item.PetId })" class="btn btn-success btn-xs" data-check="@item.ShareCategoryType.Id" onclick="selectContactToShare(this)" data-toggle="modal" data-target="#selectcontactsModel"><i class="fa fa-check-square"></i>
                                @Resources.SharePetInfo_Index_SelectMore
                            </a>
                                }
                            }
                            else
                            {
                            <a href="javascript:void(0)" data-href="@Url.Action("SelectContact", "SharePetInfo", new { ShareContactType = item.ShareCategoryType.Id, petId = item.PetId })" class="btn btn-success btn-xs" data-check="@item.ShareCategoryType.Id" onclick="selectContactToShare(this)" data-toggle="modal" data-target="#selectcontactsModel"><i class="fa fa-check-square"></i>
                                @Resources.SharePetInfo_ShareContact
                            </a>
                            }
                            if ((int)item.ShareCategoryType.Id == 5)
                            {
                            <br />
                            <a href="javascript:void(0)" data-href="@Url.Action("SelectCommunityContact", "SharePetInfo", new { petId = item.PetId })" class="btn btn-info btn-xs" data-check="@item.ShareCategoryType.Id" onclick="selectCommunityContactToShare(this)" data-toggle="modal" data-target="#selectcontactsModel"><i class="fa fa-check-square"></i>
                                @Resources.ShareInfo_Index_Activ4PetsCommunity
                            </a>
                            }

                        }
                    </td>
                </tr>
            }

        </tbody>
    </table>
    <hr>
    <button type="submit" class="btn btn-primary">@Resources.SharePetInfo_Index_ShareInfo</button>
    <button type="button" id="btnReset" class="btn btn-default">@Resources.SharePetInfo_Index_Reset</button>
</div>
<script src="@Url.Content("~/Scripts/customs/views/SharePetInfo/Index.js")"></script>
