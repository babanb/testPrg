@using ADOPets.Web.Common.Extensions
@using Resources = ADOPets.Web.Resources.Wording
@model ADOPets.Web.ViewModels.Pet.AddViewModel
@using Model
@{
    ViewBag.Title = Resources.Pet_Add_Title;
}

<div id="mypetmenu" class="radius3">
    <div class="btn-group btn-group-justified">
        <div class="btn-group">
            <a href="#card" data-toggle="tab" class="btn btn-nav"><i class="fa fa-paw"></i>
                <p>@Resources.Pet_Add_IdCardHeader</p>
            </a>
        </div>
        <div class="btn-group">
            <a href="@Url.Action("Pet", "MedicalRecord", new { Model.Id })"  data-toggle="tab" class="btn btn-nav"><i class="fa fa-book"></i>
                <p>@Resources.Pet_Add_MedicalRecordsHeader</p>
            </a>
        </div>
        <div class="btn-group">
            <a href="#veterinarian" data-toggle="tab" class="btn btn-nav"><i class="fa fa-stethoscope"></i>
                <p>@Resources.Pet_Add_VeterinarianHeader</p>
            </a>
        </div>
        <div class="btn-group">
            <a href="#contacts" data-toggle="tab" class="btn btn-nav"><i class="fa fa-phone-square"></i>
                <p>@Resources.Pet_Add_ContactsHeader</p>
            </a>
        </div>
        <div class="btn-group">
            <a href="#gallery" data-toggle="tab" class="btn btn-nav"><i class="fa fa-image (alias)"></i>
                <p>@Resources.Pet_Add_GalleryHeader</p>
            </a>
        </div>
    </div>
</div>
<div id="mainContainer">
    @Html.Hidden("hdnInvalidImagetype", @Resources.Gallery_Add_ImageValidation)

    @if (!Roles.IsUserInRole(UserTypeEnum.Admin.ToString()) && !Roles.IsUserInRole(UserTypeEnum.VeterinarianAdo.ToString()) && !Roles.IsUserInRole(UserTypeEnum.VeterinarianExpert.ToString()))
    {
        <div id="hiderightsidebar">
            <img src="@Url.Content("~/Content/images/hide-img.png")" width="22" height="34" alt="" />
        </div>
        <div id="showrightsidebar">
            <img src="@Url.Content("~/Content/images/show-img.png")" width="22" height="34" alt="" />
        </div>
    }
    @using (Html.BeginForm("Add", "Pet", FormMethod.Post, new { enctype = "multipart/form-data", @id = "PetForm", @class = "form-horizontal defaultForm", @role = "form" }))
    {
        @Html.AntiForgeryToken()         
        <div id="profilecover" style="" class="">
            <input type="hidden" name="hdnTop" id="hdnTop" value="0" />
            <input type="hidden" name="hdnLeft" id="hdnLeft" value="0" />
            <div class="picturecontainer" style="overflow: hidden; position: relative; height: 200px; border: 1px solid #888;">
                <img id="imgCoverPicPet" src="@Url.Content("~/Content/Images/cover_Dbg.gif")" />
            </div>
            <div id="profilepicedit">
                <a href="javascript:void(0)" id="aUploadPhoto" onclick="document.getElementById('imageFile').click(); return false;">
                    <i class="fa fa-pencil"></i></a>
                <input type="file" name="imageFile" id="imageFile" accept="image/*" style="height: 0; width: 0; opacity: 0;" onchange="showUploadImage(this,'prof');" />
            </div>
            @Html.HiddenFor(model => model.ImagePath)
            <div id="profilepic">
                @if (string.IsNullOrEmpty(Model.ImagePath))
                {
                    <img src="@Url.Content("~/Content/Images/animal-dimg.jpg")" id="petProfileImage" style="width: 140px; height: 140px;" alt=""/>
                }
                else
                {
                    <img src="@Url.Action("Image", "Pet", new { fileName = Model.ImagePath })" id="petProfileImage" style="width: 140px; height: 140px;" alt=""/>
                }
            </div>
            <div id="profileeditbtn">
                <a href='#' id="lnkUploadPhoto" class="btn btn-primary pull-right" onclick="document.getElementById('imageFileCover').click(); return false;" title="@Resources.Pet_Add_UploadCoverPhoto" data-tooltip="tooltip" data-placement="top">
                    <i class="fa fa-upload"></i></a>
                <input type="file" name="imageFileCover" id="imageFileCover" accept="image/*" style="height: 0; width: 0; opacity: 0;" onchange="showUploadImage(this,'cover');" />
            </div>
            <div id="temp_image" style="display: none;"></div>
        </div>            
        <div id="profilenavbtn">
            <a href="javascript:void(0)" class="btn btn-default disabled" id="">@Resources.Pet_Add_Insurance</a>
            <a href="javascript:void(0)" class="btn btn-default disabled" id="">@Resources.Pet_Add_Breeder</a>
            <a href="javascript:void(0)" class="btn btn-success" id="showpetdetails">@Resources.Pet_Add_PetDetail</a>
            <div class="clearfix"></div>
        </div>
        <div id="dvAllData">
            <div id="petdetails">
                <div class="column animated fadeInLeft">
                    <div class="form-group">
                        <strong>
                            @Html.LabelRequiredFor(model => model.PetName, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.PetName, new { @class = "form-control", placeholder = Resources.Pet_Add_PetNamePlaceHolder, tabindex = "1" })
                            @Html.ValidationMessageFor(model => model.PetName)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelRequiredFor(model => model.PetType, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(m => m.PetType, Resources.Pet_Add_PetTypePlaceHolder, new { @class = "form-control", tabindex = "2" })
                            @Html.ValidationMessageFor(model => model.PetType)
                            @Html.HiddenFor(model => model.CurrentPetType)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelRequiredFor(model => model.Breed, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.Breed, new { @class = "form-control", placeholder = Resources.Pet_Add_BreedPlaceHolder, tabindex = "3" })
                            @Html.ValidationMessageFor(model => model.Breed)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.SecondaryBreed, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.SecondaryBreed, new { @class = "form-control", placeholder = Resources.Pet_Add_BreedPlaceHolder, tabindex = "4" })
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.Pedigree, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.Pedigree, new { @class = "form-control", placeholder = Resources.Pet_Add_PedigreePlaceHolder, tabindex = "5" })
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.BloodGroupType, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(model => model.BloodGroupType, Resources.Pet_Card_BloodGroupTypePlaceHolder, new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.BloodGroupType)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.ChipNumber, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.ChipNumber, new { @class = "form-control", placeholder = Resources.Pet_Add_ChipNumberPlaceHolder, tabindex = "7" })
                            @Html.ValidationMessageFor(model => model.ChipNumber)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.TattooNumber, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.TattooNumber, new { @class = "form-control", placeholder = Resources.Pet_Add_TattooNumberPlaceHolder, tabindex = "8" })
                            @Html.ValidationMessageFor(model => model.TattooNumber)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.Gender, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(m => m.Gender, @Resources.Pet_Add_GenderPlaceHolder, new { @class = "form-control", tabindex = "9" })
                            @Html.ValidationMessageFor(model => model.Gender)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.AdoptionDate, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            <div class="input-group date">
                                @Html.TextBoxFor(model => model.AdoptionDate, new { @class = "form-control datepicker datepickerPast", placeholder = Resources.Pet_Add_AdoptionDatePlaceHolder, tabindex = "10" })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column animated fadeInLeft">
                    <div class="form-group">
                        <strong>@Html.LabelRequiredFor(model => model.BirthDate, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            <div class="input-group date">
                                @Html.TextBoxFor(model => model.BirthDate, new { @class = "form-control datepicker datepickerForPetBirthday", placeholder = Resources.Pet_Add_BirthDatePlaceHolder, tabindex = "11" })
                                <span class="input-group-addon"><span class="glyphicon glyphicon-calendar"></span></span>
                            </div>
                            @Html.ValidationMessageFor(model => model.BirthDate)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.PlaceOfBirth, new { @class = "col-md-4 control-label" })  </strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.PlaceOfBirth, new { @class = "form-control", placeholder = Resources.Pet_Add_PlaceOfBirthPlaceHolder, tabindex = "12" })
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.CountryOfBirth, new { @class = "col-md-4 control-label" })
                        </strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(m => m.CountryOfBirth, Resources.Pet_Add_CountryOfBirthPlaceHolder, new { @class = "form-control", tabindex = "13" })
                        </div>
                    </div>
                    @if (ADOPets.Web.Common.Helpers.DomainHelper.GetDomain() != DomainTypeEnum.French)
                    {  
                        <div class="form-group">
                            <strong>@Html.LabelFor(model => model.StateOfBirth, new { @class = "col-md-4 control-label" })</strong>
                            <div class="col-md-8">
                                @Html.EnumDropDownListFor(m => m.StateOfBirth, Resources.Pet_Add_StateOfBirthPlaceHolder, new { @class = "form-control", tabindex = "14" })
                            </div>
                        </div>
                    }
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.Zip, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.Zip, new { @class = "form-control", placeholder = Resources.Pet_Add_ZipPlaceHolder, @data_bv_field = "zipcode", tabindex = "15" })
                            @Html.ValidationMessageFor(model => model.Zip)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.HairType, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(m => m.HairType, Resources.Pet_Add_HairTypePlaceHolder, new { @class = "form-control valid", tabindex = "16" })
                            @Html.HiddenFor(m => m.CurrentHairType)
                            @Html.ValidationMessageFor(model => model.HairType)
                        </div>
                    </div>
                    <div class="form-group" id="hairTypediv">
                        <strong>@Html.LabelFor(model => model.HairTypeOther, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.HairTypeOther, new { @class = "form-control", placeholder = Resources.Pet_Add_HairTypeOtherPlaceHolder, tabindex = "17" })
                            @Html.ValidationMessageFor(model => model.HairTypeOther)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.Color, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.EnumDropDownListFor(m => m.Color, Resources.Pet_Add_ColorPlaceHolder, new { @class = "form-control", tabindex = "18" })
                            @Html.HiddenFor(m => m.CurrentColor)
                            @Html.ValidationMessageFor(model => model.Color)
                        </div>
                    </div>
                    <div class="form-group" id="otherColor">
                        @Html.LabelFor(model => model.ColorOther, new { @class = "col-md-4 control-label" })
                        <div class="col-md-8">
                            @Html.TextBoxFor(model => model.ColorOther, new { @class = "form-control", placeholder = Resources.Pet_Add_ColorOtherPlaceHolder, tabindex = "19" })
                            @Html.ValidationMessageFor(model => model.ColorOther)
                        </div>
                    </div>
                    <div class="form-group">
                        <strong>@Html.LabelFor(model => model.IsSterile, new { @class = "col-md-4 control-label" })</strong>
                        <div class="col-md-8">
                            @Html.RadioButtonFor(m => m.IsSterile, true)
                            @Html.LabelFor(m => m.IsSterile, Resources.Pet_Add_IsSterileYes)
                            &nbsp;&nbsp;&nbsp;
                    @Html.RadioButtonFor(m => m.IsSterile, false, new { id = "IsSterile_No" })
                            @Html.Label("IsSterile_No", Resources.Pet_Add_IsSterileNo)
                            &nbsp;&nbsp;&nbsp;
                             @Html.RadioButtonFor(m => m.IsSterile, "null", new { id = "IsSterile_Unknown", Checked = "checked" })
                            @Html.Label("IsSterile_No", Resources.Pet_Add_IsSterileUnknown)
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
                <hr>
                <div class="column animated fadeInLeft">
                    <a id="cancelButton" href="@Url.Action("Index", "Pet")" class="btn btn-warning btn-lg pull-right" style="margin-right: 15px;">@Resources.Pet_Add_CancelButton</a>
                </div>
                <div class="column animated fadeInLeft">
                    <button id="btnSaveChanges" type="submit" class="btn btn-success btn-lg" style="margin-left: 15px;">@Resources.Pet_Add_OKButton</button>
                </div>
            </div>
            <div class="clearfix"></div>
        </div>
    }
</div>
<div class="clearfix"></div>
<a href='#modelCoverPhotoSizeWarning' data-toggle="modal" id="lnkSizeWarningAlert" style="height: 0px; width: 0px; visibility: hidden;"></a>



<div class="modal fade" id="modelCoverPhotoSizeWarning" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog" style="width: 50%;">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="modal-title" id="myModalLabel">@Resources.Pet_Add_SizeWarningTitle</h4>
            </div>
            <form class="form-horizontal defaultForm" role="form">
                <div class="modal-body">
                    <label for="Subject" class="col-sm-12">@Resources.Pet_Add_SizeWarningMessage</label>
                    <br />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-dismiss="modal" id="lnkOk">@Resources.Pet_Add_StatusConfirmationOkLabel</button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="@Url.Content("~/Scripts/external/jquery-ui.min.js")"></script>
<script src="@Url.Content("~/Scripts/external/jquery.form.min.js")"></script>
<script src="@Url.Content("~/Scripts/customs/views/Pet/PetImageUpload.js")"></script>
<script src="@Url.Content("~/Scripts/customs/views/Pet/CardForm.js")"></script>
<script src="@Url.Content("~/Scripts/customs/views/Pet/CardAdd.js")"></script>

